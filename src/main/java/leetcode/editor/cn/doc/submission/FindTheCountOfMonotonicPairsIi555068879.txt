class Solution {
        int mod = 1_000_000_007;
        int[][] memo;
    public int countOfPairs(int[] nums) {
        int max = 0;
        for (int i : nums) {
            max = Math.max(max, i);
        }
        memo = new int[nums.length][max + 1];
        for (int[] m : memo) {
            Arrays.fill(m, -1);
        }
        return dfs(0,nums.length - 1,nums);
    }
    public int dfs(int pre, int index, int[] nums) {
        if (index < 0) {
            return 1;
        }
        if (memo[index][pre] != -1) {
            return memo[index][pre];
        }
        int result = 0;
        if (index == nums.length - 1) {
            for (int i = 0; i <= nums[index]; i++) {
                result = (result + dfs(i, index - 1, nums)) % mod;
            }
        } else {
            for (int i = 0; i <= Math.min(nums[index], pre); i++) {
                if (i <= pre && nums[index] - i >= nums[index + 1] - pre)
                result = (result + dfs(i, index - 1, nums)) % mod;
            }
        }
        memo[index][pre] = result;
        return result;
    }
}

//runtime:N/A
//memory:N/A
//total_testcases:801
//total_correct:760
//input_formatted:[21,24,24,24,26,27,28,31,31,32,34,39,40,40,47,49,49,51,58,59,60,61,61,63,64,72,74,75,76,79,82,89,89,90,93,94,97,100,100,101,102,104,104,106,106,107,107,108,109,110,114,114,114,115,115,115,124,126,126,126,127,130,140,141,145,147,153,153,158,158,163,164,170,170,173,178,178,180,181,188,189,193,194,204,204,207,208,210,211,211,212,213,214,214,214,215,216,217,219,223,223,228,231,234,235,235,237,240,240,240,246,247,250,251,253,258,259,262,264,265,267,271,271,272,273,273,274,277,279,280,281,286,287,288,290,291,291,293,296,297,299,300,301,302,302,304,305,308,308,311,311,314,315,315,318,319,319,322,324,327,328,335,339,339,340,341,341,342,344,353,355,357,357,357,364,366,368,369,374,378,379,380,381,382,384,386,390,390,391,392,397,398,400,409,410,410,414,416,418,419,423,423,427,431,432,433,435,436,437,437,438,439,442,443,444,447,448,448,448,448,454,455,457,458,461,462,466,475,476,478,484,489,489,490,492,494,498,499,499,499,501,502,505,507,509,510,511,512,518,520,521,524,526,532,536,541,542,543,543,543,544,545,545,549,551,557,560,561,562,565,568,568,568,568,573,575,576,577,578,580,582,583,584,585,586,590,590,592,594,595,597,599,602,606,608,609,612,612,612,614,615,616,616,617,623,624,624,626,627,628,629,630,631,631,634,634,639,643,650,657,658,661,663,666,666,671,672,672,672,674,674,675,679,681,681,682,683,684,685,685,687,691,693,695,697,697,700,704,705,705,708,709,711,714,716,718,721,722,724,725,726,726,735,736,737,738,740,744,744,745,747,752,754,758,759,760,760,763,766,766,775,776,779,780,780,781,786,791,791,792,792,794,796,796,797,803,804,805,806,806,806,808,811,812,813,813,814,815,816,816,819,820,824,825,826,828,828,831,832,836,838,839,839,843,845,849,849,850,854,855,857,858,858,860,861,861,862,863,867,869,871,872,874,876,880,881,883,884,886,887,890,893,894,898,899,902,902,904,907,910,911,915,916,920,920,921,921,925,926,927,933,933,933,935,935,938,942,944,945,945,946,950,956,957,959,960,960,961,970,974,975,984,986,988,989,993,995,999,1000,1000]
//expected_output:470840565
//code_output:
//runtime_error:
//last_testcase:[21,24,24,24,26,27,28,31,31,32,34,39,40,40,47,49,49,51,58,59,60,61,61,63,64,72,74,75,76,79,82,89,89,90,93,94,97,100,100,101,102,104,104,106,106,107,107,108,109,110,114,114,114,115,115,115,124,126,126,126,127,130,140,141,145,147,153,153,158,158,163,164,170,170,173,178,178,180,181,188,189,193,194,204,204,207,208,210,211,211,212,213,214,214,214,215,216,217,219,223,223,228,231,234,235,235,237,240,240,240,246,247,250,251,253,258,259,262,264,265,267,271,271,272,273,273,274,277,279,280,281,286,287,288,290,291,291,293,296,297,299,300,301,302,302,304,305,308,308,311,311,314,315,315,318,319,319,322,324,327,328,335,339,339,340,341,341,342,344,353,355,357,357,357,364,366,368,369,374,378,379,380,381,382,384,386,390,390,391,392,397,398,400,409,410,410,414,416,418,419,423,423,427,431,432,433,435,436,437,437,438,439,442,443,444,447,448,448,448,448,454,455,457,458,461,462,466,475,476,478,484,489,489,490,492,494,498,499,499,499,501,502,505,507,509,510,511,512,518,520,521,524,526,532,536,541,542,543,543,543,544,545,545,549,551,557,560,561,562,565,568,568,568,568,573,575,576,577,578,580,582,583,584,585,586,590,590,592,594,595,597,599,602,606,608,609,612,612,612,614,615,616,616,617,623,624,624,626,627,628,629,630,631,631,634,634,639,643,650,657,658,661,663,666,666,671,672,672,672,674,674,675,679,681,681,682,683,684,685,685,687,691,693,695,697,697,700,704,705,705,708,709,711,714,716,718,721,722,724,725,726,726,735,736,737,738,740,744,744,745,747,752,754,758,759,760,760,763,766,766,775,776,779,780,780,781,786,791,791,792,792,794,796,796,797,803,804,805,806,806,806,808,811,812,813,813,814,815,816,816,819,820,824,825,826,828,828,831,832,836,838,839,839,843,845,849,849,850,854,855,857,858,858,860,861,861,862,863,867,869,871,872,874,876,880,881,883,884,886,887,890,893,894,898,899,902,902,904,907,910,911,915,916,920,920,921,921,925,926,927,933,933,933,935,935,938,942,944,945,945,946,950,956,957,959,960,960,961,970,974,975,984,986,988,989,993,995,999,1000,1000]
