class Solution {
        int mod = 1_000_000_007;
        int[][] memo;
    public int countOfPairs(int[] nums) {
        int max = 0;
        for (int i : nums) {
            max = Math.max(max, i);
        }
        memo = new int[nums.length][max + 1];
        for (int[] m : memo) {
            Arrays.fill(m, -1);
        }
        return dfs(0,nums.length - 1,nums);
    }
    public int dfs(int pre, int index, int[] nums) {
        if (index < 0) {
            return 1;
        }
        if (memo[index][pre] != -1) {
            return memo[index][pre];
        }
        int result = 0;
        if (index == nums.length - 1) {
            for (int i = 0; i <= nums[index]; i++) {
                result = (result + dfs(i, index - 1, nums)) % mod;
            }
        } else {
            int max = pre - Math.max(0, nums[index + 1] - nums[index]);
            for (int i = 0; i <= max; i++) {
                result = (result + dfs(i, index - 1, nums)) % mod;
            }
        }
        memo[index][pre] = result;
        return result;
    }
}

//runtime:N/A
//memory:N/A
//total_testcases:801
//total_correct:759
//input_formatted:[21,21,24,25,28,30,31,32,33,33,36,37,38,39,40,40,41,43,43,43,46,50,52,53,53,54,57,63,63,63,64,67,67,70,72,76,76,77,79,84,88,92,94,94,94,96,96,97,99,102,102,103,106,110,111,117,119,124,125,126,126,132,133,139,145,148,149,149,151,151,154,155,159,160,160,161,161,162,163,166,168,169,170,171,172,173,176,182,182,185,187,188,189,191,191,193,193,197,198,198,199,204,209,212,214,217,217,218,223,226,227,227,231,232,233,233,233,238,239,240,241,242,244,245,245,245,249,249,251,254,257,258,259,263,263,263,264,265,268,271,271,272,273,273,275,279,280,280,280,281,282,283,286,286,293,296,297,298,300,306,307,311,312,318,323,323,324,324,324,325,326,329,337,339,342,343,344,350,350,351,353,354,355,357,358,361,362,362,363,364,365,368,368,369,380,384,386,389,389,390,391,392,395,396,397,399,402,405,407,409,414,419,419,420,420,421,422,423,425,429,429,430,430,433,433,434,435,435,436,437,439,441,442,442,444,448,451,451,453,453,454,455,457,459,461,465,468,472,474,475,479,482,486,487,489,489,491,501,501,502,503,506,512,512,513,520,521,523,524,526,527,527,529,534,535,537,538,539,539,543,545,549,549,550,550,552,557,560,560,561,562,564,565,565,571,573,573,579,579,581,584,585,587,592,593,599,600,601,603,603,603,607,609,611,612,613,613,621,622,623,624,624,627,627,628,629,633,636,638,639,640,641,641,642,644,648,648,648,655,655,656,661,662,663,664,665,665,666,668,672,678,679,680,681,682,685,687,690,690,691,699,701,701,703,705,706,709,710,711,714,714,715,722,722,728,728,736,741,742,742,745,747,747,754,754,761,761,764,764,765,766,768,770,772,776,778,783,785,785,787,791,791,792,794,795,797,803,804,805,806,810,816,816,822,823,824,824,829,832,835,835,836,836,836,839,840,844,848,849,849,851,852,856,859,859,863,864,864,871,874,875,883,885,887,888,889,893,894,897,902,911,918,920,920,920,921,922,923,923,925,929,929,930,930,932,934,940,942,944,945,946,948,949,949,952,952,952,954,956,956,956,961,961,962,967,968,972,977,983,984,987,989,991,993,994,995,995,995,996,998]
//expected_output:470840565
//code_output:
//runtime_error:
//last_testcase:[21,21,24,25,28,30,31,32,33,33,36,37,38,39,40,40,41,43,43,43,46,50,52,53,53,54,57,63,63,63,64,67,67,70,72,76,76,77,79,84,88,92,94,94,94,96,96,97,99,102,102,103,106,110,111,117,119,124,125,126,126,132,133,139,145,148,149,149,151,151,154,155,159,160,160,161,161,162,163,166,168,169,170,171,172,173,176,182,182,185,187,188,189,191,191,193,193,197,198,198,199,204,209,212,214,217,217,218,223,226,227,227,231,232,233,233,233,238,239,240,241,242,244,245,245,245,249,249,251,254,257,258,259,263,263,263,264,265,268,271,271,272,273,273,275,279,280,280,280,281,282,283,286,286,293,296,297,298,300,306,307,311,312,318,323,323,324,324,324,325,326,329,337,339,342,343,344,350,350,351,353,354,355,357,358,361,362,362,363,364,365,368,368,369,380,384,386,389,389,390,391,392,395,396,397,399,402,405,407,409,414,419,419,420,420,421,422,423,425,429,429,430,430,433,433,434,435,435,436,437,439,441,442,442,444,448,451,451,453,453,454,455,457,459,461,465,468,472,474,475,479,482,486,487,489,489,491,501,501,502,503,506,512,512,513,520,521,523,524,526,527,527,529,534,535,537,538,539,539,543,545,549,549,550,550,552,557,560,560,561,562,564,565,565,571,573,573,579,579,581,584,585,587,592,593,599,600,601,603,603,603,607,609,611,612,613,613,621,622,623,624,624,627,627,628,629,633,636,638,639,640,641,641,642,644,648,648,648,655,655,656,661,662,663,664,665,665,666,668,672,678,679,680,681,682,685,687,690,690,691,699,701,701,703,705,706,709,710,711,714,714,715,722,722,728,728,736,741,742,742,745,747,747,754,754,761,761,764,764,765,766,768,770,772,776,778,783,785,785,787,791,791,792,794,795,797,803,804,805,806,810,816,816,822,823,824,824,829,832,835,835,836,836,836,839,840,844,848,849,849,851,852,856,859,859,863,864,864,871,874,875,883,885,887,888,889,893,894,897,902,911,918,920,920,920,921,922,923,923,925,929,929,930,930,932,934,940,942,944,945,946,948,949,949,952,952,952,954,956,956,956,961,961,962,967,968,972,977,983,984,987,989,991,993,994,995,995,995,996,998]
